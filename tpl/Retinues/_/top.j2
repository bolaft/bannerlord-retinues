<Widget
    Id="TopPanel"
    VisualDefinition="TopPanel"
    WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed"
    SuggestedHeight="196" PositionYOffset="-196"
    Sprite="StdAssets\top_header">
    <Children>
        <Widget
            WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent"
            MarginBottom="35">
            <Children>
                {% macro banner(command, banner, hint, text, offset, text_offset, alignment) -%}
                    <ButtonWidget
                        DoNotPassEventsToChildren="true"
                        WidthSizePolicy="CoverChildren" HeightSizePolicy="Fixed"
                        SuggestedHeight="180"
                        HorizontalAlignment="{{ alignment }}" VerticalAlignment="Top"
                        PositionXOffset="{{ offset }}" PositionYOffset="-8"
                        Command.Click="{{ command }}"
                        UpdateChildrenStates="true"
                        GamepadNavigationIndex="0">
                        <Children>
                            <MaskedTextureWidget
                                DataSource="{{ banner }}"
                                WidthSizePolicy="Fixed" HeightSizePolicy="Fixed"
                                SuggestedWidth="105" SuggestedHeight="126"
                                HorizontalAlignment="{{ alignment }}" VerticalAlignment="Center"
                                Brush="Clan.TornBanner"
                            {% if version == "13" %}
                                AdditionalArgs="@AdditionalArgs" ImageId="@Id" TextureProviderName="@TextureProviderName"/>
                            {% else %}
                                AdditionalArgs="@AdditionalArgs" ImageId="@Id" ImageTypeCode="@ImageTypeCode"/>
                            {% endif %}
                            <HintWidget
                                DataSource="{{ hint }}"
                                Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            <TextWidget
                                WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren"
                                HorizontalAlignment="{{ alignment }}" VerticalAlignment="Center"
                                PositionXOffset="{{ text_offset }}"
                                Brush="Kingdom.NameTitle.Text"
                                Text="{{ text }}"
                                TextAlignment="{{ alignment }}" />
                        </Children>
                    </ButtonWidget>
                {%- endmacro %}

                {#Culture Banner#}
                {{ banner("ExecuteSelectCulture", "{CultureBanner}", "{CultureBannerHint}", "@CultureName", "20", "120", "Left") }}

                {#Clan Banner#}
                {{ banner("ExecuteSelectClan", "{ClanBanner}", "{ClanBannerHint}", "@ClanName", "-20", "-120", "Right") }}

                {#Clan Name Top Panel#}
                <Widget
                    WidthSizePolicy="Fixed" HeightSizePolicy="Fixed"
                    SuggestedWidth="887" SuggestedHeight="150"
                    HorizontalAlignment="Center" VerticalAlignment="Top"
                    Sprite="StdAssets\tabbar_long">
                    <Children>
                        {#Clan Name Container#}
                        <Widget
                            WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren"
                            HorizontalAlignment="Center" VerticalAlignment="Top"
                            MarginTop="10">
                            <Children>
                                <Widget
                                    DoNotPassEventsToChildren="true"
                                    WidthSizePolicy="Fixed" HeightSizePolicy="Fixed"
                                    SuggestedWidth="440" SuggestedHeight="47"
                                    Brush="Kingdom.Name.Edit.Button"
                                    UpdateChildrenStates="true"
                                    GamepadNavigationIndex="2">
                                    <Children>
                                        {#Clan Name#}
                                        <ListPanel
                                            WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent"
                                            StackLayout.LayoutMethod="HorizontalLeftToRight"
                                            HorizontalAlignment="Center"
                                            UpdateChildrenStates="true">
                                            <Children>
                                                <TextWidget
                                                    Brush.FontColor="#cfc1a1ff"
                                                    WidthSizePolicy="CoverChildren" HeightSizePolicy="StretchToParent"
                                                    Brush.FontSize="60" Text="@EditorTitle"/>
                                            </Children>
                                        </ListPanel>
                                    </Children>
                                </Widget>
                            </Children>
                        </Widget>
                    </Children>
                </Widget>
            </Children>
        </Widget>
    </Children>
</Widget>