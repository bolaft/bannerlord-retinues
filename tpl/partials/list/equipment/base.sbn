{{ include "list/equipment/sort_header.sbn" }}

<ListPanel 
    WidthSizePolicy="CoverChildren"
    HeightSizePolicy="StretchToParent">
    <Children>
        <!--
            ScrollablePanel:
            - Displays the equipment list with vertical scrolling.
            - Uses NavigationScopeTargeter for keyboard/controller navigation.
            - Contains the main equipment list.
        -->
        <ScrollablePanel 
            DataSource="{EquipmentList}"
            Id="RET_ListItemsScrollablePanel"
            ClipRect="RET_ListItemsRect"
            InnerPanel="RET_ListItemsRect\RET_ListItemsListPanel"
            VerticalScrollbar="..\RET_ListItemsScrollbar\Scrollbar"
            WidthSizePolicy="CoverChildren"
            HeightSizePolicy="StretchToParent"
            MinWidth="!Clan.Management.Collapser.Width"
            MarginLeft="3"
            MarginBottom="3"
            AutoHideScrollBars="true"
            MouseScrollAxis="Vertical">
            <Children>
                <!-- Navigation scope for equipment list -->
                <NavigationScopeTargeter 
                    ScopeID="RET_TroopsScope"
                    ScopeParent=".\RET_ListItemsRect"
                    ScopeMovements="Vertical"
                    IsDefaultNavigationScope="true"
                    DoNotAutoNavigateAfterSort="true"/>
                <Widget 
                    Id="RET_ListItemsRect"
                    WidthSizePolicy="CoverChildren"
                    HeightSizePolicy="StretchToParent"
                    ClipContents="true">
                    <Children>
                        <!-- Navigatable equipment list items -->
                        {{ include "list/equipment/navigatable.sbn" }}
                    </Children>
                </Widget>
            </Children>
        </ScrollablePanel>

        <!-- Vertical scrollbar for the equipment list -->
        <Standard.VerticalScrollbar 
            Id="RET_ListItemsScrollbar"
            HeightSizePolicy="StretchToParent"
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            MarginLeft="2"
            MarginRight="2"
            MarginBottom="3"/>
    </Children>
</ListPanel>